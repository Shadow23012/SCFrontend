{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport * as i0 from '@angular/core';\nimport { Injectable, EventEmitter, Component, ChangeDetectionStrategy, Input, Output, ViewChild, NgModule } from '@angular/core';\nimport { Subject } from 'rxjs';\nconst _c0 = [\"payPalButtonContainer\"];\nclass ScriptService {\n  constructor(zone) {\n    this.zone = zone;\n  }\n  registerScript(url, globalVar, onReady) {\n    const existingGlobalVar = window[globalVar];\n    if (existingGlobalVar) {\n      // global variable is present = script was already loaded\n      this.zone.run(() => {\n        onReady(existingGlobalVar);\n      });\n      return;\n    }\n    // prepare script elem\n    const scriptElem = document.createElement('script');\n    scriptElem.id = this.getElemId(globalVar);\n    scriptElem.innerHTML = '';\n    scriptElem.onload = () => {\n      this.zone.run(() => {\n        onReady(window[globalVar]);\n      });\n    };\n    scriptElem.src = url;\n    scriptElem.async = true;\n    scriptElem.defer = true;\n    // add script to header\n    document.getElementsByTagName('head')[0].appendChild(scriptElem);\n  }\n  cleanup(globalVar) {\n    // remove script from DOM\n    const scriptElem = document.getElementById(this.getElemId(globalVar));\n    if (scriptElem) {\n      scriptElem.remove();\n    }\n  }\n  getElemId(globalVar) {\n    return `ngx-paypal-script-elem-${globalVar}`;\n  }\n}\n/** @nocollapse */\nScriptService.ɵfac = function ScriptService_Factory(t) {\n  return new (t || ScriptService)(i0.ɵɵinject(i0.NgZone));\n};\n/** @nocollapse */\nScriptService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: ScriptService,\n  factory: ScriptService.ɵfac\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(ScriptService, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: i0.NgZone\n    }];\n  }, null);\n})();\nclass PayPalScriptService {\n  constructor(scriptService) {\n    this.scriptService = scriptService;\n    this.paypalWindowName = 'paypal';\n  }\n  registerPayPalScript(config, onReady) {\n    this.scriptService.registerScript(this.getUrlForConfig(config), this.paypalWindowName, onReady);\n  }\n  destroyPayPalScript() {\n    this.scriptService.cleanup(this.paypalWindowName);\n  }\n  getUrlForConfig(config) {\n    const params = [{\n      name: 'client-id',\n      value: config.clientId\n    }];\n    if (config.locale) {\n      params.push({\n        name: 'locale',\n        value: config.locale\n      });\n    }\n    if (config.currency) {\n      params.push({\n        name: 'currency',\n        value: config.currency\n      });\n    }\n    if (config.commit) {\n      params.push({\n        name: 'commit',\n        value: config.commit\n      });\n    }\n    if (config.vault) {\n      params.push({\n        name: 'vault',\n        value: config.vault\n      });\n    }\n    if (config.intent) {\n      params.push({\n        name: 'intent',\n        value: config.intent\n      });\n    }\n    if (config.funding) {\n      params.push({\n        name: 'components',\n        value: 'buttons,funding-eligibility'\n      });\n    }\n    if (config.extraParams) {\n      params.push(...config.extraParams);\n    }\n    return `https://www.paypal.com/sdk/js${this.getQueryString(params)}`;\n  }\n  getQueryString(queryParams) {\n    let queryString = '';\n    for (let i = 0; i < queryParams.length; i++) {\n      const queryParam = queryParams[i];\n      if (i === 0) {\n        queryString += '?';\n      } else {\n        queryString += '&';\n      }\n      queryString += `${queryParam.name}=${queryParam.value}`;\n    }\n    return queryString;\n  }\n}\n/** @nocollapse */\nPayPalScriptService.ɵfac = function PayPalScriptService_Factory(t) {\n  return new (t || PayPalScriptService)(i0.ɵɵinject(ScriptService));\n};\n/** @nocollapse */\nPayPalScriptService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: PayPalScriptService,\n  factory: PayPalScriptService.ɵfac\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(PayPalScriptService, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: ScriptService\n    }];\n  }, null);\n})();\nclass NgxPaypalComponent {\n  constructor(paypalScriptService, cdr, ngZone) {\n    this.paypalScriptService = paypalScriptService;\n    this.cdr = cdr;\n    this.ngZone = ngZone;\n    /**\r\n     * If enabled, paypal SDK script will be loaded. Useful if you want to have multiple PayPal components on the same page\r\n     * sharing base configuration. In such a case only a single component may register script.\r\n     */\n    this.registerScript = true;\n    /**\r\n     * Emitted when paypal script is loaded\r\n     */\n    this.scriptLoaded = new EventEmitter();\n    this.ngUnsubscribe = new Subject();\n    /**\r\n     * Flag that indicates if paypal should be initialized (required for handling script load events and availability of DOM element)\r\n     */\n    this.initializePayPal = true;\n  }\n  set payPalButtonContainer(content) {\n    this.payPalButtonContainerElem = content;\n  }\n  ngOnChanges(changes) {\n    if (!this.payPalButtonContainerId) {\n      this.payPalButtonContainerId = this.generateElementId();\n    }\n    // first time config setup\n    const config = this.config;\n    if (changes.config.isFirstChange()) {\n      if (config && this.registerScript) {\n        this.initPayPalScript(config, payPal => {\n          // store reference to paypal global script\n          this.payPal = payPal;\n          this.doPayPalCheck();\n        });\n      }\n    }\n    // changes to config\n    if (!changes.config.isFirstChange()) {\n      this.reinitialize(config);\n    }\n  }\n  ngOnDestroy() {\n    this.paypalScriptService.destroyPayPalScript();\n    this.ngUnsubscribe.next();\n    this.ngUnsubscribe.complete();\n  }\n  ngAfterViewInit() {\n    this.doPayPalCheck();\n  }\n  customInit(payPal) {\n    this.payPal = payPal;\n    this.doPayPalCheck();\n  }\n  reinitialize(config) {\n    this.config = config;\n    this.payPal = undefined;\n    this.paypalScriptService.destroyPayPalScript();\n    this.payPalButtonContainerId = this.generateElementId();\n    this.initializePayPal = true;\n    if (this.payPalButtonContainerElem) {\n      try {\n        while (this.payPalButtonContainerElem.nativeElement.firstChild) {\n          this.payPalButtonContainerElem.nativeElement.removeChild(this.payPalButtonContainerElem.nativeElement.firstChild);\n        }\n      } catch (error) {\n        console.error(error);\n      }\n    }\n    this.cdr.detectChanges();\n    if (this.config) {\n      if (!this.payPal) {\n        this.initPayPalScript(this.config, payPal => {\n          // store reference to paypal global script\n          this.payPal = payPal;\n          this.doPayPalCheck();\n        });\n      } else {\n        this.doPayPalCheck();\n      }\n    }\n  }\n  doPayPalCheck() {\n    if (this.initializePayPal && this.config && this.payPal && this.payPalButtonContainerElem) {\n      // make sure that id is also set\n      if (this.payPalButtonContainerElem.nativeElement.id) {\n        this.initializePayPal = false;\n        this.initPayPal(this.config, this.payPal);\n      }\n    }\n  }\n  initPayPalScript(config, initPayPal) {\n    this.paypalScriptService.registerPayPalScript({\n      clientId: config.clientId,\n      locale: config.advanced?.locale,\n      commit: config.advanced && config.advanced.commit ? config.advanced.commit : undefined,\n      currency: config.currency,\n      vault: config.vault,\n      intent: config.intent,\n      funding: config.fundingSource != undefined || config.fundingSource != null ? true : false,\n      extraParams: config.advanced && config.advanced.extraQueryParams ? config.advanced.extraQueryParams : []\n    }, paypal => {\n      this.scriptLoaded.next(paypal);\n      initPayPal(paypal);\n    });\n  }\n  generateElementId() {\n    return `ngx-captcha-id-${this.generateGuid()}`;\n  }\n  initPayPal(config, paypal) {\n    // Running outside angular zone prevents infinite ngDoCheck lifecycle calls\n    this.ngZone.runOutsideAngular(() => {\n      // https://developer.paypal.com/docs/checkout/integrate/#2-add-the-paypal-script-to-your-web-page\n      const createOrder = (data, actions) => {\n        return this.ngZone.run(() => {\n          if (config.createOrderOnClient && config.createOrderOnServer) {\n            throw Error(`Both 'createOrderOnClient' and 'createOrderOnServer' are defined.\n                    Please choose one or the other.`);\n          }\n          if (!config.createOrderOnClient && !config.createOrderOnServer) {\n            throw Error(`Neither 'createOrderOnClient' or 'createOrderOnServer' are defined.\n                    Please define one of these to create order.`);\n          }\n          if (config.createOrderOnClient) {\n            return actions.order.create(config.createOrderOnClient(data));\n          }\n          if (config.createOrderOnServer) {\n            return config.createOrderOnServer(data);\n          }\n          throw Error(`Invalid state for 'createOrder'.`);\n        });\n      };\n      const createSubscription = (data, actions) => {\n        return this.ngZone.run(() => {\n          if (config.createSubscriptionOnClient) {\n            return actions.subscription.create(config.createSubscriptionOnClient(data));\n          }\n          return;\n        });\n      };\n      const onShippingChange = (data, actions) => {\n        return this.ngZone.run(() => {\n          if (config.onShippingChange) {\n            return config.onShippingChange(data, actions);\n          }\n        });\n      };\n      const buttonsConfig = {\n        style: config.style,\n        fundingSource: undefined,\n        onApprove: (data, actions) => {\n          return this.ngZone.run(() => {\n            if (config.onApprove) {\n              config.onApprove(data, actions);\n            }\n            // capture on server\n            if (config.authorizeOnServer) {\n              return config.authorizeOnServer(data, actions);\n            }\n            // capture on client\n            const onClientAuthorization = config.onClientAuthorization;\n            if (onClientAuthorization) {\n              actions.order.capture().then(details => {\n                this.ngZone.run(() => {\n                  onClientAuthorization(details);\n                });\n              });\n            }\n          });\n        },\n        onError: error => {\n          this.ngZone.run(() => {\n            if (config.onError) {\n              config.onError(error);\n            }\n          });\n        },\n        onCancel: (data, actions) => {\n          this.ngZone.run(() => {\n            if (config.onCancel) {\n              config.onCancel(data, actions);\n            }\n          });\n        },\n        onClick: (data, actions) => {\n          this.ngZone.run(() => {\n            if (config.onClick) {\n              config.onClick(data, actions);\n            }\n          });\n        },\n        onInit: (data, actions) => {\n          this.ngZone.run(() => {\n            if (config.onInit) {\n              config.onInit(data, actions);\n            }\n          });\n        },\n        // Add the functions if they've been created in the config object\n        // The API only allows one of the two to be set\n        ...((config.createOrderOnClient || config.createOrderOnServer) && {\n          createOrder\n        }),\n        ...(config.createSubscriptionOnClient && {\n          createSubscription\n        }),\n        // The onShippingChange callback cannot be used with subscriptions\n        // so we only add it if it is set\n        ...(config.onShippingChange && {\n          onShippingChange\n        })\n      };\n      let fundSource = undefined;\n      switch (config.fundingSource) {\n        case \"PAYPAL\":\n          fundSource = paypal.FUNDING.PAYPAL;\n          break;\n        case \"CARD\":\n          fundSource = paypal.FUNDING.CARD;\n          break;\n        case \"PAYLATER\":\n          fundSource = paypal.FUNDING.PAYLATER;\n          break;\n        case \"CREDIT\":\n          fundSource = paypal.FUNDING.CREDIT;\n          break;\n        case \"VENMO\":\n          fundSource = paypal.FUNDING.VENMO;\n          break;\n        default:\n          break;\n      }\n      if (fundSource != undefined) {\n        buttonsConfig.fundingSource = fundSource;\n        if (config.fundingSource !== \"PAYPAL\") delete buttonsConfig.style?.color;\n      }\n      paypal.Buttons(buttonsConfig).render(`#${this.payPalButtonContainerId}`);\n    });\n  }\n  generateGuid() {\n    let d = new Date().getTime(),\n      d2 = performance && performance.now && performance.now() * 1000 || 0;\n    return \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, c => {\n      let r = Math.random() * 16;\n      if (d > 0) {\n        r = (d + r) % 16 | 0;\n        d = Math.floor(d / 16);\n      } else {\n        r = (d2 + r) % 16 | 0;\n        d2 = Math.floor(d2 / 16);\n      }\n      return (c == \"x\" ? r : r & 0x7 | 0x8).toString(16);\n    });\n  }\n}\n/** @nocollapse */\nNgxPaypalComponent.ɵfac = function NgxPaypalComponent_Factory(t) {\n  return new (t || NgxPaypalComponent)(i0.ɵɵdirectiveInject(PayPalScriptService), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(i0.NgZone));\n};\n/** @nocollapse */\nNgxPaypalComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: NgxPaypalComponent,\n  selectors: [[\"ngx-paypal\"]],\n  viewQuery: function NgxPaypalComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.payPalButtonContainer = _t.first);\n    }\n  },\n  inputs: {\n    config: \"config\",\n    registerScript: \"registerScript\"\n  },\n  outputs: {\n    scriptLoaded: \"scriptLoaded\"\n  },\n  features: [i0.ɵɵNgOnChangesFeature],\n  decls: 2,\n  vars: 1,\n  consts: [[3, \"id\"], [\"payPalButtonContainer\", \"\"]],\n  template: function NgxPaypalComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"div\", 0, 1);\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"id\", ctx.payPalButtonContainerId);\n    }\n  },\n  encapsulation: 2,\n  changeDetection: 0\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(NgxPaypalComponent, [{\n    type: Component,\n    args: [{\n      changeDetection: ChangeDetectionStrategy.OnPush,\n      selector: \"ngx-paypal\",\n      template: `\n    <div #payPalButtonContainer [id]=\"payPalButtonContainerId\"></div>\n  `\n    }]\n  }], function () {\n    return [{\n      type: PayPalScriptService\n    }, {\n      type: i0.ChangeDetectorRef\n    }, {\n      type: i0.NgZone\n    }];\n  }, {\n    config: [{\n      type: Input\n    }],\n    registerScript: [{\n      type: Input\n    }],\n    scriptLoaded: [{\n      type: Output\n    }],\n    payPalButtonContainer: [{\n      type: ViewChild,\n      args: [\"payPalButtonContainer\", {\n        static: false\n      }]\n    }]\n  });\n})();\nclass NgxPayPalModule {}\n/** @nocollapse */\nNgxPayPalModule.ɵfac = function NgxPayPalModule_Factory(t) {\n  return new (t || NgxPayPalModule)();\n};\n/** @nocollapse */\nNgxPayPalModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n  type: NgxPayPalModule\n});\n/** @nocollapse */\nNgxPayPalModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n  providers: [ScriptService, PayPalScriptService],\n  imports: [CommonModule]\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(NgxPayPalModule, [{\n    type: NgModule,\n    args: [{\n      imports: [CommonModule],\n      declarations: [NgxPaypalComponent],\n      exports: [NgxPaypalComponent],\n      providers: [ScriptService, PayPalScriptService]\n    }]\n  }], null, null);\n})();\n\n/** Public API */\n\n/**\r\n * Generated bundle index. Do not edit.\r\n */\n\nexport { NgxPayPalModule, NgxPaypalComponent, PayPalScriptService };\n//# sourceMappingURL=ngx-paypal.mjs.map","map":{"version":3,"names":["CommonModule","i0","Injectable","EventEmitter","Component","ChangeDetectionStrategy","Input","Output","ViewChild","NgModule","Subject","ScriptService","constructor","zone","registerScript","url","globalVar","onReady","existingGlobalVar","window","run","scriptElem","document","createElement","id","getElemId","innerHTML","onload","src","async","defer","getElementsByTagName","appendChild","cleanup","getElementById","remove","ɵfac","NgZone","ɵprov","type","PayPalScriptService","scriptService","paypalWindowName","registerPayPalScript","config","getUrlForConfig","destroyPayPalScript","params","name","value","clientId","locale","push","currency","commit","vault","intent","funding","extraParams","getQueryString","queryParams","queryString","i","length","queryParam","NgxPaypalComponent","paypalScriptService","cdr","ngZone","scriptLoaded","ngUnsubscribe","initializePayPal","payPalButtonContainer","content","payPalButtonContainerElem","ngOnChanges","changes","payPalButtonContainerId","generateElementId","isFirstChange","initPayPalScript","payPal","doPayPalCheck","reinitialize","ngOnDestroy","next","complete","ngAfterViewInit","customInit","undefined","nativeElement","firstChild","removeChild","error","console","detectChanges","initPayPal","advanced","fundingSource","extraQueryParams","paypal","generateGuid","runOutsideAngular","createOrder","data","actions","createOrderOnClient","createOrderOnServer","Error","order","create","createSubscription","createSubscriptionOnClient","subscription","onShippingChange","buttonsConfig","style","onApprove","authorizeOnServer","onClientAuthorization","capture","then","details","onError","onCancel","onClick","onInit","fundSource","FUNDING","PAYPAL","CARD","PAYLATER","CREDIT","VENMO","color","Buttons","render","d","Date","getTime","d2","performance","now","replace","c","r","Math","random","floor","toString","ChangeDetectorRef","ɵcmp","args","changeDetection","OnPush","selector","template","static","NgxPayPalModule","ɵmod","ɵinj","imports","declarations","exports","providers"],"sources":["E:/Chris/ShopCart/node_modules/ngx-paypal/fesm2020/ngx-paypal.mjs"],"sourcesContent":["import { CommonModule } from '@angular/common';\nimport * as i0 from '@angular/core';\nimport { Injectable, EventEmitter, Component, ChangeDetectionStrategy, Input, Output, ViewChild, NgModule } from '@angular/core';\nimport { Subject } from 'rxjs';\n\nclass ScriptService {\r\n    constructor(zone) {\r\n        this.zone = zone;\r\n    }\r\n    registerScript(url, globalVar, onReady) {\r\n        const existingGlobalVar = window[globalVar];\r\n        if (existingGlobalVar) {\r\n            // global variable is present = script was already loaded\r\n            this.zone.run(() => {\r\n                onReady(existingGlobalVar);\r\n            });\r\n            return;\r\n        }\r\n        // prepare script elem\r\n        const scriptElem = document.createElement('script');\r\n        scriptElem.id = this.getElemId(globalVar);\r\n        scriptElem.innerHTML = '';\r\n        scriptElem.onload = () => {\r\n            this.zone.run(() => {\r\n                onReady(window[globalVar]);\r\n            });\r\n        };\r\n        scriptElem.src = url;\r\n        scriptElem.async = true;\r\n        scriptElem.defer = true;\r\n        // add script to header\r\n        document.getElementsByTagName('head')[0].appendChild(scriptElem);\r\n    }\r\n    cleanup(globalVar) {\r\n        // remove script from DOM\r\n        const scriptElem = document.getElementById(this.getElemId(globalVar));\r\n        if (scriptElem) {\r\n            scriptElem.remove();\r\n        }\r\n    }\r\n    getElemId(globalVar) {\r\n        return `ngx-paypal-script-elem-${globalVar}`;\r\n    }\r\n}\r\n/** @nocollapse */ ScriptService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"15.0.4\", ngImport: i0, type: ScriptService, deps: [{ token: i0.NgZone }], target: i0.ɵɵFactoryTarget.Injectable });\r\n/** @nocollapse */ ScriptService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"15.0.4\", ngImport: i0, type: ScriptService });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"15.0.4\", ngImport: i0, type: ScriptService, decorators: [{\r\n            type: Injectable\r\n        }], ctorParameters: function () { return [{ type: i0.NgZone }]; } });\n\nclass PayPalScriptService {\r\n    constructor(scriptService) {\r\n        this.scriptService = scriptService;\r\n        this.paypalWindowName = 'paypal';\r\n    }\r\n    registerPayPalScript(config, onReady) {\r\n        this.scriptService.registerScript(this.getUrlForConfig(config), this.paypalWindowName, onReady);\r\n    }\r\n    destroyPayPalScript() {\r\n        this.scriptService.cleanup(this.paypalWindowName);\r\n    }\r\n    getUrlForConfig(config) {\r\n        const params = [\r\n            {\r\n                name: 'client-id',\r\n                value: config.clientId\r\n            }\r\n        ];\r\n        if (config.locale) {\r\n            params.push({\r\n                name: 'locale',\r\n                value: config.locale\r\n            });\r\n        }\r\n        if (config.currency) {\r\n            params.push({\r\n                name: 'currency',\r\n                value: config.currency\r\n            });\r\n        }\r\n        if (config.commit) {\r\n            params.push({\r\n                name: 'commit',\r\n                value: config.commit\r\n            });\r\n        }\r\n        if (config.vault) {\r\n            params.push({\r\n                name: 'vault',\r\n                value: config.vault\r\n            });\r\n        }\r\n        if (config.intent) {\r\n            params.push({\r\n                name: 'intent',\r\n                value: config.intent\r\n            });\r\n        }\r\n        if (config.funding) {\r\n            params.push({\r\n                name: 'components',\r\n                value: 'buttons,funding-eligibility'\r\n            });\r\n        }\r\n        if (config.extraParams) {\r\n            params.push(...config.extraParams);\r\n        }\r\n        return `https://www.paypal.com/sdk/js${this.getQueryString(params)}`;\r\n    }\r\n    getQueryString(queryParams) {\r\n        let queryString = '';\r\n        for (let i = 0; i < queryParams.length; i++) {\r\n            const queryParam = queryParams[i];\r\n            if (i === 0) {\r\n                queryString += '?';\r\n            }\r\n            else {\r\n                queryString += '&';\r\n            }\r\n            queryString += `${queryParam.name}=${queryParam.value}`;\r\n        }\r\n        return queryString;\r\n    }\r\n}\r\n/** @nocollapse */ PayPalScriptService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"15.0.4\", ngImport: i0, type: PayPalScriptService, deps: [{ token: ScriptService }], target: i0.ɵɵFactoryTarget.Injectable });\r\n/** @nocollapse */ PayPalScriptService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"15.0.4\", ngImport: i0, type: PayPalScriptService });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"15.0.4\", ngImport: i0, type: PayPalScriptService, decorators: [{\r\n            type: Injectable\r\n        }], ctorParameters: function () { return [{ type: ScriptService }]; } });\n\nclass NgxPaypalComponent {\r\n    constructor(paypalScriptService, cdr, ngZone) {\r\n        this.paypalScriptService = paypalScriptService;\r\n        this.cdr = cdr;\r\n        this.ngZone = ngZone;\r\n        /**\r\n         * If enabled, paypal SDK script will be loaded. Useful if you want to have multiple PayPal components on the same page\r\n         * sharing base configuration. In such a case only a single component may register script.\r\n         */\r\n        this.registerScript = true;\r\n        /**\r\n         * Emitted when paypal script is loaded\r\n         */\r\n        this.scriptLoaded = new EventEmitter();\r\n        this.ngUnsubscribe = new Subject();\r\n        /**\r\n         * Flag that indicates if paypal should be initialized (required for handling script load events and availability of DOM element)\r\n         */\r\n        this.initializePayPal = true;\r\n    }\r\n    set payPalButtonContainer(content) {\r\n        this.payPalButtonContainerElem = content;\r\n    }\r\n    ngOnChanges(changes) {\r\n        if (!this.payPalButtonContainerId) {\r\n            this.payPalButtonContainerId = this.generateElementId();\r\n        }\r\n        // first time config setup\r\n        const config = this.config;\r\n        if (changes.config.isFirstChange()) {\r\n            if (config && this.registerScript) {\r\n                this.initPayPalScript(config, (payPal) => {\r\n                    // store reference to paypal global script\r\n                    this.payPal = payPal;\r\n                    this.doPayPalCheck();\r\n                });\r\n            }\r\n        }\r\n        // changes to config\r\n        if (!changes.config.isFirstChange()) {\r\n            this.reinitialize(config);\r\n        }\r\n    }\r\n    ngOnDestroy() {\r\n        this.paypalScriptService.destroyPayPalScript();\r\n        this.ngUnsubscribe.next();\r\n        this.ngUnsubscribe.complete();\r\n    }\r\n    ngAfterViewInit() {\r\n        this.doPayPalCheck();\r\n    }\r\n    customInit(payPal) {\r\n        this.payPal = payPal;\r\n        this.doPayPalCheck();\r\n    }\r\n    reinitialize(config) {\r\n        this.config = config;\r\n        this.payPal = undefined;\r\n        this.paypalScriptService.destroyPayPalScript();\r\n        this.payPalButtonContainerId = this.generateElementId();\r\n        this.initializePayPal = true;\r\n        if (this.payPalButtonContainerElem) {\r\n            try {\r\n                while (this.payPalButtonContainerElem.nativeElement.firstChild) {\r\n                    this.payPalButtonContainerElem.nativeElement.removeChild(this.payPalButtonContainerElem.nativeElement.firstChild);\r\n                }\r\n            }\r\n            catch (error) {\r\n                console.error(error);\r\n            }\r\n        }\r\n        this.cdr.detectChanges();\r\n        if (this.config) {\r\n            if (!this.payPal) {\r\n                this.initPayPalScript(this.config, (payPal) => {\r\n                    // store reference to paypal global script\r\n                    this.payPal = payPal;\r\n                    this.doPayPalCheck();\r\n                });\r\n            }\r\n            else {\r\n                this.doPayPalCheck();\r\n            }\r\n        }\r\n    }\r\n    doPayPalCheck() {\r\n        if (this.initializePayPal &&\r\n            this.config &&\r\n            this.payPal &&\r\n            this.payPalButtonContainerElem) {\r\n            // make sure that id is also set\r\n            if (this.payPalButtonContainerElem.nativeElement.id) {\r\n                this.initializePayPal = false;\r\n                this.initPayPal(this.config, this.payPal);\r\n            }\r\n        }\r\n    }\r\n    initPayPalScript(config, initPayPal) {\r\n        this.paypalScriptService.registerPayPalScript({\r\n            clientId: config.clientId,\r\n            locale: config.advanced?.locale,\r\n            commit: config.advanced && config.advanced.commit\r\n                ? config.advanced.commit\r\n                : undefined,\r\n            currency: config.currency,\r\n            vault: config.vault,\r\n            intent: config.intent,\r\n            funding: config.fundingSource != undefined || config.fundingSource != null ? true : false,\r\n            extraParams: config.advanced && config.advanced.extraQueryParams\r\n                ? config.advanced.extraQueryParams\r\n                : [],\r\n        }, (paypal) => {\r\n            this.scriptLoaded.next(paypal);\r\n            initPayPal(paypal);\r\n        });\r\n    }\r\n    generateElementId() {\r\n        return `ngx-captcha-id-${this.generateGuid()}`;\r\n    }\r\n    initPayPal(config, paypal) {\r\n        // Running outside angular zone prevents infinite ngDoCheck lifecycle calls\r\n        this.ngZone.runOutsideAngular(() => {\r\n            // https://developer.paypal.com/docs/checkout/integrate/#2-add-the-paypal-script-to-your-web-page\r\n            const createOrder = (data, actions) => {\r\n                return this.ngZone.run(() => {\r\n                    if (config.createOrderOnClient && config.createOrderOnServer) {\r\n                        throw Error(`Both 'createOrderOnClient' and 'createOrderOnServer' are defined.\r\n                    Please choose one or the other.`);\r\n                    }\r\n                    if (!config.createOrderOnClient && !config.createOrderOnServer) {\r\n                        throw Error(`Neither 'createOrderOnClient' or 'createOrderOnServer' are defined.\r\n                    Please define one of these to create order.`);\r\n                    }\r\n                    if (config.createOrderOnClient) {\r\n                        return actions.order.create(config.createOrderOnClient(data));\r\n                    }\r\n                    if (config.createOrderOnServer) {\r\n                        return config.createOrderOnServer(data);\r\n                    }\r\n                    throw Error(`Invalid state for 'createOrder'.`);\r\n                });\r\n            };\r\n            const createSubscription = (data, actions) => {\r\n                return this.ngZone.run(() => {\r\n                    if (config.createSubscriptionOnClient) {\r\n                        return actions.subscription.create(config.createSubscriptionOnClient(data));\r\n                    }\r\n                    return;\r\n                });\r\n            };\r\n            const onShippingChange = (data, actions) => {\r\n                return this.ngZone.run(() => {\r\n                    if (config.onShippingChange) {\r\n                        return config.onShippingChange(data, actions);\r\n                    }\r\n                });\r\n            };\r\n            const buttonsConfig = {\r\n                style: config.style,\r\n                fundingSource: undefined,\r\n                onApprove: (data, actions) => {\r\n                    return this.ngZone.run(() => {\r\n                        if (config.onApprove) {\r\n                            config.onApprove(data, actions);\r\n                        }\r\n                        // capture on server\r\n                        if (config.authorizeOnServer) {\r\n                            return config.authorizeOnServer(data, actions);\r\n                        }\r\n                        // capture on client\r\n                        const onClientAuthorization = config.onClientAuthorization;\r\n                        if (onClientAuthorization) {\r\n                            actions.order\r\n                                .capture()\r\n                                .then((details) => {\r\n                                this.ngZone.run(() => {\r\n                                    onClientAuthorization(details);\r\n                                });\r\n                            });\r\n                        }\r\n                    });\r\n                },\r\n                onError: (error) => {\r\n                    this.ngZone.run(() => {\r\n                        if (config.onError) {\r\n                            config.onError(error);\r\n                        }\r\n                    });\r\n                },\r\n                onCancel: (data, actions) => {\r\n                    this.ngZone.run(() => {\r\n                        if (config.onCancel) {\r\n                            config.onCancel(data, actions);\r\n                        }\r\n                    });\r\n                },\r\n                onClick: (data, actions) => {\r\n                    this.ngZone.run(() => {\r\n                        if (config.onClick) {\r\n                            config.onClick(data, actions);\r\n                        }\r\n                    });\r\n                },\r\n                onInit: (data, actions) => {\r\n                    this.ngZone.run(() => {\r\n                        if (config.onInit) {\r\n                            config.onInit(data, actions);\r\n                        }\r\n                    });\r\n                },\r\n                // Add the functions if they've been created in the config object\r\n                // The API only allows one of the two to be set\r\n                ...((config.createOrderOnClient || config.createOrderOnServer) && {\r\n                    createOrder,\r\n                }),\r\n                ...(config.createSubscriptionOnClient && { createSubscription }),\r\n                // The onShippingChange callback cannot be used with subscriptions\r\n                // so we only add it if it is set\r\n                ...(config.onShippingChange && { onShippingChange }),\r\n            };\r\n            let fundSource = undefined;\r\n            switch (config.fundingSource) {\r\n                case \"PAYPAL\":\r\n                    fundSource = paypal.FUNDING.PAYPAL;\r\n                    break;\r\n                case \"CARD\":\r\n                    fundSource = paypal.FUNDING.CARD;\r\n                    break;\r\n                case \"PAYLATER\":\r\n                    fundSource = paypal.FUNDING.PAYLATER;\r\n                    break;\r\n                case \"CREDIT\":\r\n                    fundSource = paypal.FUNDING.CREDIT;\r\n                    break;\r\n                case \"VENMO\":\r\n                    fundSource = paypal.FUNDING.VENMO;\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n            if (fundSource != undefined) {\r\n                buttonsConfig.fundingSource = fundSource;\r\n                if (config.fundingSource !== \"PAYPAL\")\r\n                    delete buttonsConfig.style?.color;\r\n            }\r\n            paypal.Buttons(buttonsConfig).render(`#${this.payPalButtonContainerId}`);\r\n        });\r\n    }\r\n    generateGuid() {\r\n        let d = new Date().getTime(), d2 = (performance && performance.now && performance.now() * 1000) || 0;\r\n        return \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, (c) => {\r\n            let r = Math.random() * 16;\r\n            if (d > 0) {\r\n                r = (d + r) % 16 | 0;\r\n                d = Math.floor(d / 16);\r\n            }\r\n            else {\r\n                r = (d2 + r) % 16 | 0;\r\n                d2 = Math.floor(d2 / 16);\r\n            }\r\n            return (c == \"x\" ? r : (r & 0x7) | 0x8).toString(16);\r\n        });\r\n    }\r\n}\r\n/** @nocollapse */ NgxPaypalComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"15.0.4\", ngImport: i0, type: NgxPaypalComponent, deps: [{ token: PayPalScriptService }, { token: i0.ChangeDetectorRef }, { token: i0.NgZone }], target: i0.ɵɵFactoryTarget.Component });\r\n/** @nocollapse */ NgxPaypalComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"15.0.4\", type: NgxPaypalComponent, selector: \"ngx-paypal\", inputs: { config: \"config\", registerScript: \"registerScript\" }, outputs: { scriptLoaded: \"scriptLoaded\" }, viewQueries: [{ propertyName: \"payPalButtonContainer\", first: true, predicate: [\"payPalButtonContainer\"], descendants: true }], usesOnChanges: true, ngImport: i0, template: `\r\n    <div #payPalButtonContainer [id]=\"payPalButtonContainerId\"></div>\r\n  `, isInline: true, changeDetection: i0.ChangeDetectionStrategy.OnPush });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"15.0.4\", ngImport: i0, type: NgxPaypalComponent, decorators: [{\r\n            type: Component,\r\n            args: [{\r\n                    changeDetection: ChangeDetectionStrategy.OnPush,\r\n                    selector: \"ngx-paypal\",\r\n                    template: `\r\n    <div #payPalButtonContainer [id]=\"payPalButtonContainerId\"></div>\r\n  `,\r\n                }]\r\n        }], ctorParameters: function () { return [{ type: PayPalScriptService }, { type: i0.ChangeDetectorRef }, { type: i0.NgZone }]; }, propDecorators: { config: [{\r\n                type: Input\r\n            }], registerScript: [{\r\n                type: Input\r\n            }], scriptLoaded: [{\r\n                type: Output\r\n            }], payPalButtonContainer: [{\r\n                type: ViewChild,\r\n                args: [\"payPalButtonContainer\", { static: false }]\r\n            }] } });\n\nclass NgxPayPalModule {\r\n}\r\n/** @nocollapse */ NgxPayPalModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"15.0.4\", ngImport: i0, type: NgxPayPalModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\r\n/** @nocollapse */ NgxPayPalModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"14.0.0\", version: \"15.0.4\", ngImport: i0, type: NgxPayPalModule, declarations: [NgxPaypalComponent], imports: [CommonModule], exports: [NgxPaypalComponent] });\r\n/** @nocollapse */ NgxPayPalModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"15.0.4\", ngImport: i0, type: NgxPayPalModule, providers: [\r\n        ScriptService,\r\n        PayPalScriptService\r\n    ], imports: [CommonModule] });\r\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"15.0.4\", ngImport: i0, type: NgxPayPalModule, decorators: [{\r\n            type: NgModule,\r\n            args: [{\r\n                    imports: [\r\n                        CommonModule\r\n                    ],\r\n                    declarations: [\r\n                        NgxPaypalComponent,\r\n                    ],\r\n                    exports: [\r\n                        NgxPaypalComponent,\r\n                    ],\r\n                    providers: [\r\n                        ScriptService,\r\n                        PayPalScriptService\r\n                    ]\r\n                }]\r\n        }] });\n\n/** Public API */\n\n/**\r\n * Generated bundle index. Do not edit.\r\n */\n\nexport { NgxPayPalModule, NgxPaypalComponent, PayPalScriptService };\n//# sourceMappingURL=ngx-paypal.mjs.map\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}