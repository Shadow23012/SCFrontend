{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/database.service\";\nimport * as i2 from \"src/app/productdel.service\";\nimport * as i3 from \"primeng/api\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"@angular/router\";\nimport * as i6 from \"primeng/table\";\nimport * as i7 from \"primeng/button\";\nimport * as i8 from \"primeng/dialog\";\nfunction ProductAdminComponent_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 15)(1, \"p-button\", 16);\n    i0.ɵɵlistener(\"click\", function ProductAdminComponent_ng_template_1_Template_p_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.showDialog());\n    });\n    i0.ɵɵelement(2, \"i\", 17);\n    i0.ɵɵtext(3, \"ADD\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"tr\")(5, \"th\");\n    i0.ɵɵtext(6, \"Id\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"th\");\n    i0.ɵɵtext(8, \"Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"th\");\n    i0.ɵɵtext(10, \"Description\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"th\");\n    i0.ɵɵtext(12, \"Options\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ProductAdminComponent_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"button\", 18);\n    i0.ɵɵlistener(\"click\", function ProductAdminComponent_ng_template_2_Template_button_click_7_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const product_r4 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.deleteProduct(product_r4.id));\n    });\n    i0.ɵɵtext(8, \"DELETE\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const product_r4 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(product_r4.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(product_r4.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(product_r4.description);\n  }\n}\nexport class ProductAdminComponent {\n  constructor(database, productdelService, confirmationService, formBuilder, router) {\n    this.database = database;\n    this.productdelService = productdelService;\n    this.confirmationService = confirmationService;\n    this.formBuilder = formBuilder;\n    this.router = router;\n    this.products = [];\n    this.status = \"\";\n    /*delete(id: string) {\r\n          this.database.deleteProduct(id).subscribe({\r\n            next: (data) => {\r\n              this.status = \"Delete successful\";\r\n              this.router.navigate([\"/\"]);\r\n            },\r\n            error: (error) => {\r\n              console.error(\"There was an error!\", error);\r\n            },\r\n          });\r\n    }\r\n            /*Agregado de producto*/\n    this.addProductForm = this.formBuilder.group({\n      id: '',\n      name: \"\",\n      description: \"\",\n      price: 0,\n      images: [\"\"]\n    });\n    this.display = false;\n    this.database.getItems().subscribe(res => {\n      console.log(res);\n      this.products = res;\n    });\n  }\n  //Metodo Delete\n  deleteProduct(id) {\n    if (confirm('¿Estás seguro de eliminar este producto?')) {\n      this.productdelService.deleteProduct(id).subscribe(() => {});\n    }\n    location.reload();\n  }\n  onSubmit() {\n    let p = {\n      id: Number(this.addProductForm.value.id),\n      name: this.addProductForm.value.name,\n      description: this.addProductForm.value.description,\n      price: this.addProductForm.value.price,\n      images: this.addProductForm.value.images\n    };\n    this.database.addProduct(p).subscribe({\n      next: data => {\n        this.status = \"Add successful\";\n        this.router.navigate([\"/\"]);\n      },\n      error: error => {\n        console.error(\"There was an error!\", error);\n      }\n    });\n    console.warn('Your order has been submitted', this.addProductForm.value);\n    this.addProductForm.reset();\n    location.reload();\n  }\n  showDialog() {\n    this.display = true;\n  }\n}\nProductAdminComponent.ɵfac = function ProductAdminComponent_Factory(t) {\n  return new (t || ProductAdminComponent)(i0.ɵɵdirectiveInject(i1.DatabaseService), i0.ɵɵdirectiveInject(i2.ProductdelService), i0.ɵɵdirectiveInject(i3.ConfirmationService), i0.ɵɵdirectiveInject(i4.FormBuilder), i0.ɵɵdirectiveInject(i5.Router));\n};\nProductAdminComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ProductAdminComponent,\n  selectors: [[\"app-product-admin\"]],\n  features: [i0.ɵɵProvidersFeature([])],\n  decls: 27,\n  vars: 3,\n  consts: [[3, \"value\"], [\"pTemplate\", \"header\"], [\"pTemplate\", \"body\"], [3, \"visible\", \"visibleChange\"], [3, \"formGroup\", \"ngSubmit\"], [\"for\", \"name\"], [\"id\", \"id\", \"type\", \"text\", \"formControlName\", \"id\"], [\"id\", \"name\", \"type\", \"text\", \"formControlName\", \"name\"], [\"for\", \"description\"], [\"id\", \"description\", \"type\", \"text\", \"formControlName\", \"description\"], [\"for\", \"price\"], [\"id\", \"price\", \"type\", \"text\", \"formControlName\", \"price\"], [\"for\", \"images\"], [\"id\", \"images\", \"type\", \"text\", \"formControlName\", \"images\"], [\"type\", \"submit\", 1, \"button\"], [1, \"Agregar\", 2, \"text-align\", \"right\"], [\"styleClass\", \"p-button-info\", 3, \"click\"], [1, \"pi\", \"pi-plus\", 2, \"color\", \"white\"], [3, \"click\"]],\n  template: function ProductAdminComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"p-table\", 0);\n      i0.ɵɵtemplate(1, ProductAdminComponent_ng_template_1_Template, 13, 0, \"ng-template\", 1);\n      i0.ɵɵtemplate(2, ProductAdminComponent_ng_template_2_Template, 9, 3, \"ng-template\", 2);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"p-dialog\", 3);\n      i0.ɵɵlistener(\"visibleChange\", function ProductAdminComponent_Template_p_dialog_visibleChange_3_listener($event) {\n        return ctx.display = $event;\n      });\n      i0.ɵɵelementStart(4, \"form\", 4);\n      i0.ɵɵlistener(\"ngSubmit\", function ProductAdminComponent_Template_form_ngSubmit_4_listener() {\n        return ctx.onSubmit();\n      });\n      i0.ɵɵelementStart(5, \"div\")(6, \"label\", 5);\n      i0.ɵɵtext(7, \" Id \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(8, \"input\", 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"div\")(10, \"label\", 5);\n      i0.ɵɵtext(11, \" Nombre \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(12, \"input\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"div\")(14, \"label\", 8);\n      i0.ɵɵtext(15, \" Descripci\\u00F3n \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(16, \"input\", 9);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"div\")(18, \"label\", 10);\n      i0.ɵɵtext(19, \" Precio \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(20, \"input\", 11);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(21, \"div\")(22, \"label\", 12);\n      i0.ɵɵtext(23, \" Imagen \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(24, \"input\", 13);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(25, \"button\", 14);\n      i0.ɵɵtext(26, \"Add\");\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"value\", ctx.products);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"visible\", ctx.display);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"formGroup\", ctx.addProductForm);\n    }\n  },\n  dependencies: [i6.Table, i3.PrimeTemplate, i7.Button, i8.Dialog, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.FormGroupDirective, i4.FormControlName],\n  styles: [\"#add[_ngcontent-%COMP%]{\\r\\n    margin-right: 10px;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvYWRtaW4vcHJvZHVjdC1hZG1pbi9wcm9kdWN0LWFkbWluLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxrQkFBa0I7QUFDdEIiLCJzb3VyY2VzQ29udGVudCI6WyIjYWRke1xyXG4gICAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xyXG59Il0sInNvdXJjZVJvb3QiOiIifQ== */\", \"[_nghost-%COMP%]     .p-dialog .product-image {\\n        width: 150px;\\n        margin: 0 auto 2rem auto;\\n        display: block;\\n      }\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvYWRtaW4vcHJvZHVjdC1hZG1pbi9wcm9kdWN0LWFkbWluLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO01BQ007UUFDRSxZQUFZO1FBQ1osd0JBQXdCO1FBQ3hCLGNBQWM7TUFDaEIiLCJzb3VyY2VzQ29udGVudCI6WyJcbiAgICAgIDpob3N0IDo6bmctZGVlcCAucC1kaWFsb2cgLnByb2R1Y3QtaW1hZ2Uge1xuICAgICAgICB3aWR0aDogMTUwcHg7XG4gICAgICAgIG1hcmdpbjogMCBhdXRvIDJyZW0gYXV0bztcbiAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICB9XG4gICAgIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","ProductAdminComponent","constructor","database","productdelService","confirmationService","formBuilder","router","group","id","name","description","price","images","getItems","subscribe","res","console","log","products","deleteProduct","confirm","location","reload","onSubmit","p","Number","addProductForm","value","addProduct","next","data","status","navigate","error","warn","reset","showDialog","display","selectors","features","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["E:\\Chris\\ShopCart\\src\\app\\admin\\product-admin\\product-admin.component.html","E:\\Chris\\ShopCart\\src\\app\\admin\\product-admin\\product-admin.component.ts"],"sourcesContent":["\n<p-table [value]=\"products\">\n    <ng-template pTemplate=\"header\">\n\n        <div class=\"Agregar\" style=\" text-align: right;\">\n            <p-button (click)=\"showDialog()\" styleClass=\"p-button-info\"><i class=\"pi pi-plus\" style=\"color: white\"></i>ADD</p-button>\n        </div>\n\n        <tr>\n            <th>Id</th>\n            <th>Name</th>\n            <th>Description</th>\n            <th>Options</th>\n            \n            \n        </tr>\n    </ng-template>\n    <ng-template pTemplate=\"body\" let-product>\n        <tr>\n            <td>{{product.id}}</td>\n            <td>{{product.name}}</td>\n            <td>{{product.description}}</td>\n            \n            <button (click)=\"deleteProduct(product.id)\">DELETE</button>\n        </tr>\n\n        \n        \n    </ng-template>\n\n    \n</p-table>\n\n\n\n<p-dialog [(visible)]=\"display\">\n<form [formGroup]=\"addProductForm\" (ngSubmit)=\"onSubmit()\">\n    <div>\n      <label for=\"name\"> Id </label>\n      <input id=\"id\" type=\"text\" formControlName=\"id\" />\n    </div>\n\n\n    <div>\n      <label for=\"name\"> Nombre </label>\n      <input id=\"name\" type=\"text\" formControlName=\"name\" />\n    </div>    \n    <div>\n      <label for=\"description\"> Descripción </label>\n      <input id=\"description\" type=\"text\" formControlName=\"description\" />\n    </div>\n    <div>\n      <label for=\"price\"> Precio </label>\n      <input id=\"price\" type=\"text\" formControlName=\"price\" />\n    </div>    \n    <div>\n      <label for=\"images\"> Imagen </label>\n      <input id=\"images\" type=\"text\" formControlName=\"images\" />\n    </div>    \n\n\n    <button class=\"button\" type=\"submit\">Add</button>\n  </form>\n</p-dialog>","import { Component, OnInit } from '@angular/core';\nimport { ProductdelService } from \"src/app/productdel.service\"\nimport { DatabaseService } from \"src/app/database.service\";\nimport { Product } from \"src/app/products\";\nimport { Router } from \"@angular/router\";\nimport { FormBuilder } from \"@angular/forms\";\nimport { ConfirmationService } from \"primeng/api\";\n\n@Component({\n  selector: \"app-product-admin\",\n  templateUrl: \"./product-admin.component.html\",\n  styleUrls: [\"./product-admin.component.css\"],\n  styles: [\n    `\n      :host ::ng-deep .p-dialog .product-image {\n        width: 150px;\n        margin: 0 auto 2rem auto;\n        display: block;\n      }\n    `,\n  ],\n  providers: [],\n})\nexport class ProductAdminComponent {\n  \n  products: Product [] = [];\n\n  status: string = \"\";\n\n  constructor(private database: DatabaseService,\n              private productdelService: ProductdelService,\n              private confirmationService: ConfirmationService,\n              private formBuilder: FormBuilder,\n              private router: Router) {\n\n      \n    \n    this.database.getItems().subscribe(res => {\n      console.log(res);\n      this.products = res;\n    });\n\n  \n\n\n  }\n\n  \n\n  //Metodo Delete\n\ndeleteProduct(id: number): void {\n  if (confirm('¿Estás seguro de eliminar este producto?')){\n    this.productdelService.deleteProduct(id).subscribe(()=>{\n  })\n }\n location.reload();\n}\n  \n  /*delete(id: string) {\n        this.database.deleteProduct(id).subscribe({\n          next: (data) => {\n            this.status = \"Delete successful\";\n            this.router.navigate([\"/\"]);\n          },\n          error: (error) => {\n            console.error(\"There was an error!\", error);\n          },\n        });\n  }\n\n  /*Agregado de producto*/\n  addProductForm = this.formBuilder.group({\n    id: '',\n    name: \"\",\n    description: \"\",\n    price: 0,\n    images: [\"\"]\n  });\n\n\n  onSubmit(): void {\n    let p =  {\n      id: Number(this.addProductForm.value.id),\n      name: this.addProductForm.value.name,\n      description: this.addProductForm.value.description,\n      price: this.addProductForm.value.price,\n      images: this.addProductForm.value.images\n    };\n\n\n\n\n    this.database.addProduct(p).subscribe({\n \n      next: (data) => {\n        this.status = \"Add successful\";\n        this.router.navigate([\"/\"]);\n      },\n      error: (error) => {\n        console.error(\"There was an error!\", error);\n      },\n    });    \n    console.warn('Your order has been submitted', this.addProductForm.value);\n    this.addProductForm.reset();\n    location.reload();\n  }\n\n  display:boolean=false;\nshowDialog(){\n  this.display=true;\n}\n\n}\n\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}